import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';
import { BusinessAuthService } from '../../Shared/services/Business-auth.service';
import { BusinessTokenStorageService } from '../../Shared/services/Business-token-storage.service';
import { SafeResourceUrl,DomSanitizer} from '@angular/platform-browser';
import { HttpClient, HttpHeaders } from '@angular/common/http';


@Component({
  selector: 'app-track-board',
  templateUrl: './track-board.component.html',
  styleUrls: ['./track-board.component.css']
})

export class TrackBoardComponent implements OnInit {
  //canstants//
  constructor(private http :HttpClient,private dom: DomSanitizer,private businessAuthService: BusinessAuthService, private businesstokenStorage: BusinessTokenStorageService) { }

  @ViewChild('iframe') iframe!: ElementRef;
  url1:any;
  url2!:SafeResourceUrl
  u:any
  token:any
  currentBusiness:any

  
  ngOnInit(): void {
    this.currentBusiness = this.businesstokenStorage.getUser()
    this.token="H4sIAAAAAAAEAB2WtQ70CBKE3-VPvZKZVtrAzDD2GDMzM_t0735zm3fQqu76qv7zx06efkryP3__0e3z1ZjcklgPCokJx7Y8dYQBsOrcSNrjI1TqEC0c7RJMq6Vi_tk0UizetGDe9yE3hQoEhD3VygaB4Gu7VJTunHAKw7BFd7i1V08hmZK019RQ2h0KUTjEbazj2eKTgoGQW8lG_NQDtZgHgTHLX5I2pG9hNOKR-3clZYznfFUcOKGql_SRtWIsFDludLMaI-RgTyp0ZAijfRwk1ZD4euDX0xxPyLFnfmvGdBUtIUR5lkiJ0OB2OGnC_OrRUmVXwCjb9DWMGlT63gzxBZIVLz1RE3RvHrcxccrHzr7aZ_BHKBwN5ONB5gyiOesgIo_vGUEDUHZI5xEIjy9QtL7bll6G_soU5SaVAa8WTDtslRYn46ofmWZqR3FpSeIThwG1xCU-V7UIWIwYwqTknnVtRZ3iJdwZiM7bVgyAxursLIglr_nGIq_ZGRgG1dFUR2YjZ_dwd0qy3OfhcD7SRH_dwPsVjrIrbft1rouPgOJrHImetNaatbRLL7N_EUTHuvcI2xI1K4mPOdcz9PaUb3lYXwmjTNnezT7pEcoy2lFLNpYre-7X4ijws0FMM79yScpeU_qLVNNnslOMLiswd9cVSJgGjoAtkHxCE1p5bUa2vQvnSEfu4zls3o2YL603H5VLXaD0t5gqzpbzjht27YLXKBkEk8orEp1cNexAgDirBYTxgS6so3BHlVo0c0KChJoPtwZh1aELIZbHGtWCaq0Qk90P2XZH4RUatkvCBBWTsVgNLtSIR42h7muIQR5icx1cL5aKrDDfOq57KR5YxmCYPs41NAMEmzSqBko3ISktM4D0MefxkHWfeQYWLz5RXB_oSZDNmlu7X1ha4jYfYvnOL62rWKhpcxUV1LcZeGNNMIGAnM_i0641rz7zMu7vPEAicz9ZX3WMpvXkwcs7iMfY-Z38enuKYhAwlodlyoN3aUv50Wukr4UPNLoX3QZXKA8KwpwHnO_m0RhIgqIUDDil9GK2O20Teghs_-Q1b868cfkj-zyZqL6Wbd72WrvZ4SCv6vWw8_W_VwNnlwp-xHW2Hg37lm3ikzthLaCuApHyBIXZvV0SbNsExvtn2eEwHawPIQCOxOqeoS-vvzs8DudN4L79iZnHStio9t5ySu4obUuF6QvahQKEnpV6erwXmI9D4Nsa8fnmwopfWKWWYVqDwHudxXy49ybgAuulJCa7tCdbRqBuDIDoNMzCKhwgxtH0VWGmq3pcb_06gWtUZHMg2u71WcqXRMoUPdRPX48000dBJuu2lcI2F5_4DhSiFdAYYoqhNUeJyQ-tpZPNXyXcMJNeANoRmcG0si8ZnCJTjJ3pY-cRHxL06R0XJ4ceuFsAAiYAxNfBFfKTooQI6ZIWNacBYn3wNvI0c8-suappzgiAVUNwD-Siko6xsgYKjxndSEIgVqxutxNXHk0Et96Dd7mg5ZLcSQwrD8B6t857JCpjMj46Xa7VoC7EhghI0V-T_2gStDXqjljQ5tgJ8AlLnOGZRXCwWz4fmCCpY0KSnvaoIgXrvklbpzEOjy-6t9ElRUBnDqiBo2X1jKFtQdxO4bf6B3T2i7u5w84k4ZlacArSuSFuXdsHiTB9NDl9HC-Q6vsOc_mRup-zCvUHFTXqYps74DC7Iq-r3tNljXuh-uzJ5XUOSoUSXnaQbSob7Tgay7muRsNxvyB9lyhBzpFd9HJy6Wgpaoww2heccaOOQNS-CWJETKQAYy1RzV-dd15s44qs9TfmNYBkUfNC0cbeGTqkZSs54sLP9Ts-J1G4wFerUJWWCBTUKw02g9shfNn8rah3nl73uTaOZ2w3iwN-JBmYd07G2J3VHT7kDVSwjodqz9_ki5bzxP1IZhZukE8YyWe890sWy_vlFA_qckq4dewHJOiRXeRMjR0w6-dTLpuyQp7CMUA5xQbcHdNyDdHJUp_i1rcL4A8sDATtMKJU4YY98FYif2dFdLVrLZMSDBRpmKY-vrhCko533D23LB7PjpWq79CMeVnUsTDquKBP01CeUIKXWzEGjFnT9guOk9-uHfBbz6rsL2rPj5NtNrl4fqvPnQ3G3w5e9xxLQ3GNCLPf-my0nju8ceubWtJbmDZ49C-5dmvVfbhBNmbEXsZpwors6IRp7heXHYNy4ebKO6Cy3wVZsoH-21lBeJcqbiNCp7KoHm9KIqBrAksYbd6XgkDyz7_NGiOHjH_lo5mkq0fBOijilGeGS_XOsFpKfV_pR8l7rvX6-1rOF6y9hLTQRk5MpCdNQr0fQXtUzoVzCihdlg4Md_Zalp_5EMeUy_AGwse-GUbKzaE3o12ikkgxJn5wgsaiAzxggu1nRn2fwOjWBow3vgsdo5IpjMltXc6ad9JdhnEwutCjpiiORDgIMl4qsGqOClAdPkKXyDXqAXr7tFNjQ62W150aYrzrZxTRC5Jr2-JoH6Fk6IeN6e-ctQlrqWtGkHcpVWxam4h1tVzVAQlNwXAa-3ytLpehhErqzLA1pTy3l7bTX__8-esPtz7zPmnF86tutiJCB_GOick9-sV6nS6h9o01FETf3Bu_9PyAzfd-0zylOZUEdtmvF8MJ4ZY9iYoQxB4qAY3MsYA_Y9v0cCtoBAK4zaFa4io0FAFG_aYXM1mE2Nn0P0BgVxZdjuF0bUcGOcquyO7XbD_UmnFl-fGrdhTC1l4y2Vegqdr3kRz8UD7vG3kaLSwN8F3K-lRiNLh2DTCH5QAsRDo83w6QMCfVSeyGzVzSHAnbnCMWCGDwdriL2EBtAmyAZzzL6i6AmtZ_HmBjp0as6ded4h_3aFRwbGS5Irv7PVkdV-b22X-YX9d1oGeHz79bAQRTbfr5WQ92TUZ9Cs4jyOWlVtKBnd61-MvVf_6V-ZnrYlX8n8oUYpRxujJtaRtooVhN-Hm1698pt6nGZD_W4je2_LiCSfC0mobNTDFHiNVAIgrFP5F1LwfO5dj5FdQsdAyB8Tz6fjJEce6q0Z6KdiA6f-IYB-PTc5xmKnvKtJ0wtyhjzB-BP7P3tPFGy1XSoOzg3Gx67tOG7gPOuPsso8i3HMTtfVFgMdzr6wOUykew2OhKX8NdrLX10-s4jO6v1KsqSFEYtXxj4xv82NU1SGuDyBMTKeGveusv-sP5i6JUcsxQqJSxxuWg-TDWtQRu-hIV4N5WrWBa7RBCQhKtGYhO8a_9cb4ngtC9QP7aklhfnT24E4t4g3VB3TzCSu8PoJZmhCx70HURKRQ5IPvx1fNeiHtuNU1Uoj-w7f1QTnuGcv1f5v_-D8GyoN2uDAAA.eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly9XQUJJLVdFU1QtRVVST1BFLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0IiwiZW1iZWRGZWF0dXJlcyI6eyJtb2Rlcm5FbWJlZCI6ZmFsc2V9fQ=="

    this.url1="https://app.powerbi.com/reportEmbed?reportId=87b61095-4d4b-46cb-96a8-c95765bf7a14&autoAuth=true&pageName=Page1&filterPaneEnabled=false&navContentPaneEnabled=false&$filter=business/idBusiness eq '"+this.currentBusiness.idBusiness +"'"
    this.url2 =this.dom.bypassSecurityTrustResourceUrl(this.url1);
    
    //accessToken: "H4sIAAAAAAAEAB2Wta7FDJKE3-VPPZKZRprAzMzOzHjMvNp33zubtqqTKnV9_T__2Nk7zln5z7__sdTp-_xgAvX7hnSRIiaYOhrBZABzIsHiZ77PR5W3irmgiRl70Kz7OwsgSxBoViXAuZGoA6h13Md6kaDgowtGXWO0yEisYPUaNkO0IErgd7exA2n3O_AEwnWFX8Ga2W0QaX0z_NsQmFdtl7nHYlGphzIF5TEW_ZdSFgSnuxllj9oxFMjZ9oFbQ4Z6J9KevaH3Pci-0wmc4xXHnvrs2r0_b84LxBc6tr9lNppMTM09ObLxRfO5_RLWIiIHzNyRiSj1UYpBot14CBxZ4XmkMFWB4QUdGKjnfrlGftxkJyAqXk7ch9hwhscE28Ny05ncbl3MyEU2ZvLQx2dwVm6Bc5Xosioe2rm69P1yEtHghK6iDKoMRITbVfKWfGYHUdJ7KPXZfNHBz9RinT1GwcVGM9BpUgEJV8HiZ4lY-guUsO9WGXgSTZCjAgIGKFfBt9QG1G73sQMGa2L5pm_2F7q27QIr441yfVyRBv-zKAbZIGD8_dClf48L1AoPt8cNpCwAn7wE7cpT3Jfx8kh01ooMY7Tb_EKTu2yvoAtdFciV19ondZ5AIoCWN45lNXoME6qtgQBmAPOh3flujLYfBGLX1ElyPyT0YiULkfR7zPUYCpAxvfaOMgAD4DxKdxBR4vyCyR0OocSRin6psjtNjRCyre7knecM4TfdCRX-glJsRikifewxQhuNwzl6LNBocDYcdQwnQEH0nFBamt-5J2tLcy2tSNaoHLy9YFqadOe2bceW8e4JTdlLr36tEJgZDNG6gjT9bKBjsCCuXZLf450IReX3hSMWNq1ZgdVYYbwgfpzY3sJJuWsHwNZqApLaKyilVfCz4jfQOxPfo_s7CC3_XaofCgh2HpWSI08bG_UR3ySU5jFLxO8UT5dmmSbbQVK_ZocoCG9KxAuugN2mHsjVXYrpVp4iRbK2JQyoAW1iXBzpcZIPtjHS3DqCezyIEehHfZiMoLfFJlBoODaSo9KLifkVhUSYt_CPAxqYBbrB56PC6EoW365coyCgN1iHlo4nuXyLtkqBTbvFRNYWIkJQDiUCi-6UzY0274nx0W3RcO5J_4vYdk5OYRLhe69HU10Qtz1WZ58D20jsV0JAKMrqNtk1946LN6tMq4aKWMD1cHM1Opfb_jEetn2fG1Uti7swsja7buPE07Ac82mWxziz_dWSqLwGCf-88Gzscy_MxEQO2nDIj59xzVEDD0zlI-Wquxw1qOah8qd7cLQtAJAwqxx8rHJbjFpIMPJLYuU8wI1ztnh7lt201l6uhtH9_DFXIIOy7nV9fjOqcUb3QJbqEvpBYct0EUkGP12P_KpIFoEDLRKW-BNNZ3EqkaRvwrElU-9OibYcpaS7Iu5ExGaw0lzJNIzkF-zn6erfr5h9Hn8Uv0Q-irRnUEc3tEg3kPaX34NipodpveSnOWPxWr4MSNjYvXR3UC5Fd_LyC_SOS1swTTPsiw2-wsS0n1W8BzdpuiaFPY4YF9AwlAOQODEDuhOrGw5zlv2ViZV2DlElUcqH7BOCByUoLkmS0VEH7bqrdWzSEMd7eJSJkX1hJu-Yx3ZOAq1Lu51L3znLxFjItcUyouXsubUrTiMOUjvY5nVqzXy3DFIG8l8_JV-K1pZo03XYw__6Jf5gXZS29fsLNu258Yz3bNa-KpZb3gwlK-R6lWn-qiFf9_3eerfAIsuOUBFSgI_yw_l-mgVN3DNkuO7Pd5WDDn0Y28YA_9jxV7iQ-DPRAs7yzp8camsxhPsgbzkpv63AqBWgYAU1dtaIiu4qqNDgon9rSvqZ02Lt6rHeKFwvYMxnoacNRkl6ij25VQ0Z0lV4f8wravMBUo36kZQQ2uDJ75VjVNAbmCeWiErSxeRca5YE3SpbslfYhwOP8rFuB92O1zHTFaDdRNGUerI3nSqH8ocBb2ypnzkSA8myNEDik5Kx8HR3Y7TgtlfSQxO09z-olbk-Yn9wbZA9GirVurqc5yzos9uuCGZiwD3Nb-zlLLJl_0jloCsBmWMi4vLHhSI4TqaYBStjovGvytQ48Ixh8mMIj8kzS-k0BUVoncP1BJ5-TyTI_NY4lEaq2uKb-7oDtrmD9K0ogN_QzoTktewyM3oVE2nH5GCVkDBcjGaCS5voYnk1Tr1GCA573iqa5UGAgJnBINSsrktmNkWgkEd5zg2zU3Yar8XhArfxKMsSMnKIdkBTddfkmTZ99aCDmS85Hu4_g4P3WFrWJtdhcxvlSaoaSd4BfS6DRCmtHPqHWPOov9-MyXOpnPWr0NxQ5Zquf6jKbRwcMyfHDYls1mZmNNFrynRAyBOci96CDZScE3v_ymVowphLy86Kt_C2WNkPiaWyUUi5GnG28TNJOEav8HXs1zv5eZI9YcoHf0j2uHZoj23Y18di46gI6AQqPHC9TSARlrKftWc3oGtGgWP-PgvibSUTmjXvfhf54MA0ftlnUxAlYpuAyO_1eq4GRTnjZuZ8plxryzmaXtpAZfg9Iu6gkhHfR9j6QDhTJEBNAHnaVeD__OsfbnuXY9aq9--dS7FuJG2mZn-fAY5DLgtxdimlJtdBtopfzBfK7WFB8Labt-JFT3Eif_fJpKXrTgwo8K0Gts8S3GODexoL3peqcBJbaZtQGvD-d6pXd59bV-sVdwX8-C4YZpvF-bE2a_0RwZyPmLUiqGsPFui3vCsAo6ZZ4SaZuTo2e07e-eJaJAbV9vxQJA8nbEr66wp2J7rF8EfgS3J4_eu57RtGWK0eJiI-EO3mfKE5eTXohiqIDIZ8wl9BDk_sNMBt-WeeSbC4X0vURjZ39tarRh6qCKBl7jCf1jQgZjILrD0wOnuzaWrqX9OguO7TIE3As6RKNoKdL9lqE8mL-xc4u0K5UGSsayDzn__81-Z3aatNCf9cho2IIhIbZzC-QU-0u-9Mipv_V3ldM2XHuVV_spV3XcrUjEz2mMhx2ogJuKFAAwGV0PUqi4qdRAtl_uZynMqMRj4xVMcW9qE_2EhZuGWNYQm3UM7w7AxTJ6vY5UcqJLf2I4eBae3-uXxb76K89ZHqE7IJ2t8VB6xolTVViBh4qEEwRl7rEA34TGAIGjhyUVKr9yZhRVONKVkocmJt1SrsT-gjgFVzNwM7O4w70AHoZCsPbQHj_-T0W9LB_0yrj8KJD-yIIjfk5fS4-raY3OrQ0rgu8LmRlCkNEzw5y3njs2AabuVjSSDDoOUFHoQXy-bVsaZn-lsNO2vEyRcrDl47QaLm8XWiJ_a5RB4qwqEi1agy6qFVN1waqj-mG_x_w_jf_wNCtBbLwgwAAA==.eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly9XQUJJLVdFU1QtRVVST1BFLXJlZGlyZWN0LmFuYWx5c2lzLndpbmRvd3MubmV0IiwiZW1iZWRGZWF0dXJlcyI6eyJtb2Rlcm5FbWJlZCI6ZmFsc2V9fQ==",
    //embedUrl: "https://app.powerbi.com/reportEmbed?reportId=35f1833b-cd53-4bd6-a3c9-19991c22803f&autoAuth=true&pageName=Page1&filterPaneEnabled=false&navContentPaneEnabled=false&$filter=business/idBusiness eq '"+this.currentBusiness+"'",
    //id: '35f1833b-cd53-4bd6-a3c9-19991c22803f',
  
     
} 
  }

  

  
  

