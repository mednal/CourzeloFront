


<div id="preloader" class="table-responsive">
 
    <mat-tab-group mat-align-tabs="center"  >
      <mat-tab label="All test"> 
         <!--First tab  for prehiring test-->

        <div class="search-bar col-lg-8 col-md-6 col-sm-4 col-xs-1">
          <mat-form-field >
             <input matInput  (keyup)="doFilter($any($event.target).value)" type="text" placeholder="Search">
             <button mat-icon-button matSuffix><mat-icon>search</mat-icon></button>
          </mat-form-field>
     </div>
 
     <div class="add-btn"> 
         <button class="second-btn" routerLink="AddTests">
            Add new test
         </button>
     </div> 

       
    <table id="preloader" mat-table [dataSource]="dataSource"  matSort (matSortChange)="SortChange($event)" class="mat-elevation-z9 table1"  >
    
        <ng-container matColumnDef="title" >
          <th mat-header-cell *matHeaderCellDef mat-sort-header > Title </th>
          <td mat-cell *matCellDef="let tests"> 
            <span> {{tests.title}}</span>
          </td>
        </ng-container>
    
        <ng-container matColumnDef="creationDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header > Creation Date </th>
          <td mat-cell *matCellDef="let tests" > 
            <span *ngIf="tests.creationDate!=null">{{tests.creationDate | date:'yyyy-MM-dd'}} </span>
            <span *ngIf="tests.creationDate===null ">----</span>
        </td>
        </ng-container>
    
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef mat-sort-header > Type </th>
          <td mat-cell *matCellDef="let tests"> 
            <span *ngIf="tests.type!=null"> {{tests.type}}</span>
            <span *ngIf="tests.type===null || tests.type==''">----</span>
          </td>
        </ng-container>


        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef> </th>
          <td mat-cell *matCellDef="let tests ; " class="action-link"> 
            <button class="upd-btn assign" mat-icon-button  (click)="Assign(tests.idPrehiringTest)"><mat-icon>assignment_turned_in</mat-icon>Assign</button>
            <button class="upd-btn" mat-icon-button  routerLink="UpdTest/{{tests.idPrehiringTest}}"><mat-icon >edit</mat-icon></button>
            <button class="del-btn" mat-icon-button (click)="VerifExistPrehiring(tests.idPrehiringTest)" ><mat-icon>delete_forever</mat-icon></button>
          </td>
        </ng-container>

          
        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>
    
    </table>

    <mat-paginator   [pageSize]="5" [pageSizeOptions]="[3,10,25,50]"></mat-paginator>
    
  </mat-tab>
  <!--2nd tab for assinged test -->
  <mat-tab label="Assigned to this job">
    <div *ngIf="currentJob">
      <div *ngIf="!currentJob.idPrehiringTest" class="msg-span">
          <span>No prehiring test is yet assigned to this job</span>
      </div>
     <div *ngIf="currentJob.idPrehiringTest">
  <table id="preloader" mat-table [dataSource]="dataSource2"  matSort (matSortChange)="SortChange($event)" class="mat-elevation-z9 table2"  >
  
      <ng-container matColumnDef="title" >
        <th mat-header-cell *matHeaderCellDef mat-sort-header > Title </th>
        <td mat-cell *matCellDef="let tests2"> 
          <span> {{tests2.title}}</span>
        </td>
      </ng-container>
  
      <ng-container matColumnDef="creationDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header > Creation Date </th>
        <td mat-cell *matCellDef="let tests2" > 
          <span *ngIf="tests2.creationDate!=null">{{tests2.creationDate | date:'yyyy-MM-dd'}} </span>
          <span *ngIf="tests2.creationDate===null ">----</span>
      </td>
      </ng-container>
  
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header > Type </th>
        <td mat-cell *matCellDef="let tests2"> 
          <span *ngIf="tests2.type!=null"> {{tests2.type}}</span>
          <span *ngIf="tests2.type===null || tests2.type==''">----</span>
        </td>
      </ng-container>


      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let tests2 ; " class="action-link"> 
         <button class="del-btn" mat-icon-button (click)="UnAssign(idJob)" ><mat-icon>delete_forever</mat-icon></button>
        </td>
      </ng-container>

        
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>
  
  </table>

</div>
</div>

  </mat-tab>
  </mat-tab-group>

    
</div>





    


